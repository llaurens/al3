!function(e,t){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof exports?module.exports=t():e.cash=e.$=t()}(this,function(){function e(e,t){t=t||V;var n=H.test(e)?t.getElementsByClassName(e.slice(1)):R.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e);return n}function t(e){return k=k||V.createDocumentFragment(),P=P||k.appendChild(V.createElement("div")),P.innerHTML=e,P.childNodes}function n(e){"loading"!==V.readyState?e():V.addEventListener("DOMContentLoaded",e)}function r(r,i){if(!r)return this;if(r.cash&&r!==E)return r;var a,o=r,s=0;if(j(r))o=z.test(r)?V.getElementById(r.slice(1)):O.test(r)?t(r):e(r,i);else if($(r))return n(r),this;if(!o)return this;if(o.nodeType||o===E)this[0]=o,this.length=1;else for(a=this.length=o.length;a>s;s++)this[s]=o[s];return this}function i(e,t){return new r(e,t)}function a(e,t){for(var n=e.length,r=0;n>r&&t.call(e[r],e[r],r,e)!==!1;r++);}function o(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function s(e){return i(L.call(e).filter(function(e,t,n){return n.indexOf(e)===t}))}function l(e){return e[M]=e[M]||{}}function u(e,t,n){return l(e)[t]=n}function c(e,t){var n=l(e);return void 0===n[t]&&(n[t]=e.dataset?e.dataset[t]:i(e).attr("data-"+t)),n[t]}function p(e,t){var n=l(e);n?delete n[t]:e.dataset?delete e.dataset[t]:i(e).removeAttr("data-"+name)}function f(e){return j(e)&&e.match(B)}function d(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function h(e,t,n){e.classList?e.classList.add(t):n.indexOf(" "+t+" ")&&(e.className+=" "+t)}function g(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}function m(e,t){return parseInt(E.getComputedStyle(e[0],null)[t],10)||0}function v(e,t,n){var r=c(e,"_cashEvents")||u(e,"_cashEvents",{});r[t]=r[t]||[],r[t].push(n),e.addEventListener(t,n)}function y(e,t,n){var r=c(e,"_cashEvents")[t];n?e.removeEventListener(t,n):(a(r,function(n){e.removeEventListener(t,n)}),r=[])}function b(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function x(e){return"radio"===e.type||"checkbox"===e.type}function w(e,t,n){if(n){var r=e.childNodes[0];e.insertBefore(t,r)}else e.appendChild(t)}function S(e,t,n){var r=j(t);return!r&&t.length?void a(t,function(t){return S(e,t,n)}):void a(e,r?function(e){return e.insertAdjacentHTML(n?"afterbegin":"beforeend",t)}:function(e,r){return w(e,0===r?t:t.cloneNode(!0),n)})}function C(e,t){return e===t}var k,P,V=document,E=window,T=Array.prototype,L=T.slice,A=T.filter,N=T.push,F=function(){},$=function(e){return typeof e==typeof F},j=function(e){return"string"==typeof e},z=/^#[\w-]*$/,H=/^\.[\w-]*$/,O=/<.+>/,R=/^\w+$/,q=i.fn=i.prototype=r.prototype={constructor:i,cash:!0,length:0,push:N,splice:T.splice,map:T.map,init:r};i.parseHTML=t,i.noop=F,i.isFunction=$,i.isString=j,i.extend=q.extend=function(e){e=e||{};var t=L.call(arguments),n=t.length,r=1;for(1===t.length&&(e=this,r=0);n>r;r++)if(t[r])for(var i in t[r])t[r].hasOwnProperty(i)&&(e[i]=t[r][i]);return e},i.extend({merge:function(e,t){for(var n=+t.length,r=e.length,i=0;n>i;r++,i++)e[r]=t[i];return e.length=r,e},each:a,matches:o,unique:s,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}});var M=i.uid="_cash"+Date.now();q.extend({data:function(e,t){if(j(e))return void 0===t?c(this[0],e):this.each(function(n){return u(n,e,t)});for(var n in e)this.data(n,e[n]);return this},removeData:function(e){return this.each(function(t){return p(t,e)})}});var B=/\S+/g;q.extend({addClass:function(e){var t=f(e);return t?this.each(function(e){var n=" "+e.className+" ";a(t,function(t){h(e,t,n)})}):this},attr:function(e,t){if(e){if(j(e))return void 0===t?this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0:this.each(function(n){n.setAttribute?n.setAttribute(e,t):n[e]=t});for(var n in e)this.attr(n,e[n]);return this}},hasClass:function(e){var t=!1,n=f(e);return n&&n.length&&this.each(function(e){return t=d(e,n[0]),!t}),t},prop:function(e,t){if(j(e))return void 0===t?this[0][e]:this.each(function(n){n[e]=t});for(var n in e)this.prop(n,e[n]);return this},removeAttr:function(e){return this.each(function(t){t.removeAttribute?t.removeAttribute(e):delete t[e]})},removeClass:function(e){if(!arguments.length)return this.attr("class","");var t=f(e);return t?this.each(function(e){a(t,function(t){g(e,t)})}):this},removeProp:function(e){return this.each(function(t){delete t[e]})},toggleClass:function(e,t){if(void 0!==t)return this[t?"addClass":"removeClass"](e);var n=f(e);return n?this.each(function(e){var t=" "+e.className+" ";a(n,function(n){d(e,n)?g(e,n):h(e,n,t)})}):this}}),q.extend({add:function(e,t){return s(i.merge(this,i(e,t)))},each:function(e){return a(this,e),this},eq:function(e){return i(this.get(e))},filter:function(e){return i(A.call(this,j(e)?function(t){return o(t,e)}:e))},first:function(){return this.eq(0)},get:function(e){return void 0===e?L.call(this):0>e?this[e+this.length]:this[e]},index:function(e){var t=e?i(e)[0]:this[0],n=e?this:i(t).parent().children();return L.call(n).indexOf(t)},last:function(){return this.eq(-1)}});var I=function(){var e=/(?:^\w|[A-Z]|\b\w)/g,t=/[\s-_]+/g;return function(n){return n.replace(e,function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()}).replace(t,"")}}(),D=function(){var e={},t=document,n=t.createElement("div"),r=n.style;return function(t){if(t=I(t),e[t])return e[t];var n=t.charAt(0).toUpperCase()+t.slice(1),i=["webkit","moz","ms","o"],o=(t+" "+i.join(n+" ")+n).split(" ");return a(o,function(n){return n in r?(e[n]=t=e[t]=n,!1):void 0}),e[t]}}();i.prefixedProp=D,i.camelCase=I,q.extend({css:function(e,t){if(j(e))return e=D(e),arguments.length>1?this.each(function(n){return n.style[e]=t}):E.getComputedStyle(this[0])[e];for(var n in e)this.css(n,e[n]);return this}}),a(["Width","Height"],function(e){var t=e.toLowerCase();q[t]=function(){return this[0].getBoundingClientRect()[t]},q["inner"+e]=function(){return this[0]["client"+e]},q["outer"+e]=function(t){return this[0]["offset"+e]+(t?m(this,"margin"+("Width"===e?"Left":"Top"))+m(this,"margin"+("Width"===e?"Right":"Bottom")):0)}}),q.extend({off:function(e,t){return this.each(function(n){return y(n,e,t)})},on:function(e,t,r,i){var a;if(!j(e)){for(var s in e)this.on(s,t,e[s]);return this}return $(t)&&(r=t,t=null),"ready"===e?(n(r),this):(t&&(a=r,r=function(e){for(var n=e.target;!o(n,t);){if(n===this)return n=!1;n=n.parentNode}n&&a.call(n,e)}),this.each(function(t){var n=r;i&&(n=function(){r.apply(this,arguments),y(t,e,n)}),v(t,e,n)}))},one:function(e,t,n){return this.on(e,t,n,!0)},ready:n,trigger:function(e,t){var n=V.createEvent("HTMLEvents");return n.data=t,n.initEvent(e,!0,!1),this.each(function(e){return e.dispatchEvent(n)})}});var W=["file","reset","submit","button"];q.extend({serialize:function(){var e=this[0].elements,t="";return a(e,function(e){e.name&&W.indexOf(e.type)<0&&("select-multiple"===e.type?a(e.options,function(n){n.selected&&(t+=b(e.name,n.value))}):(!x(e)||x(e)&&e.checked)&&(t+=b(e.name,e.value)))}),t.substr(1)},val:function(e){return void 0===e?this[0].value:this.each(function(t){return t.value=e})}}),q.extend({after:function(e){return i(e).insertAfter(this),this},append:function(e){return S(this,e),this},appendTo:function(e){return S(i(e),this),this},before:function(e){return i(e).insertBefore(this),this},clone:function(){return i(this.map(function(e){return e.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(e){if(void 0===e)return this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each(function(e){return e.innerHTML=t})},insertAfter:function(e){var t=this;return i(e).each(function(e,n){var r=e.parentNode,i=e.nextSibling;t.each(function(e){r.insertBefore(0===n?e:e.cloneNode(!0),i)})}),this},insertBefore:function(e){var t=this;return i(e).each(function(e,n){var r=e.parentNode;t.each(function(t){r.insertBefore(0===n?t:t.cloneNode(!0),e)})}),this},prepend:function(e){return S(this,e,!0),this},prependTo:function(e){return S(i(e),this,!0),this},remove:function(){return this.each(function(e){return e.parentNode.removeChild(e)})},text:function(e){return void 0===e?this[0].textContent:this.each(function(t){return t.textContent=e})}});var _=V.documentElement;return q.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+E.pageYOffset-_.clientTop,left:e.left+E.pageXOffset-_.clientLeft}},offsetParent:function(){return i(this[0].offsetParent)}}),q.extend({children:function(e){var t=[];return this.each(function(e){N.apply(t,e.children)}),t=s(t),e?t.filter(function(t){return o(t,e)}):t},closest:function(e){return!e||o(this[0],e)?this:this.parent().closest(e)},is:function(e){if(!e)return!1;var t=!1,n=j(e)?o:e.cash?function(t){return e.is(t)}:C;return this.each(function(r,i){return t=n(r,e,i),!t}),t},find:function(t){if(!t)return i();var n=[];return this.each(function(r){N.apply(n,e(t,r))}),s(n)},has:function(e){return A.call(this,function(t){return 0!==i(t).find(e).length})},next:function(){return i(this[0].nextElementSibling)},not:function(e){return A.call(this,function(t){return!o(t,e)})},parent:function(){var e=this.map(function(e){return e.parentElement||V.body.parentNode});return s(e)},parents:function(e){var t,n=[];return this.each(function(r){for(t=r;t!==V.body.parentNode;)t=t.parentElement,(!e||e&&o(t,e))&&n.push(t)}),s(n)},prev:function(){return i(this[0].previousElementSibling)},siblings:function(){var e=this.parent().children(),t=this[0];return A.call(e,function(e){return e!==t})}}),i});
